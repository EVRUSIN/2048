webpackJsonp([1],{"1/oy":function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r("7+uW"),a=r("mvHQ"),s=r.n(a),o=r("woOf"),n=r.n(o),h=r("AxZq"),l=r.n(h),v=r("E8q/"),c={components:{GlobalEvents:l.a,bButton:v.a},name:"Table",data:function(){return{gridSize:4,matrix:[{array:[1,1,1,1]},{array:[1,1,1,1]},{array:[1,1,1,1]},{array:[1,1,1,1]}],maxValue:2,wonValue:2048,startCells:2,freeCells:Number,score:0}},mounted:function(){if(localStorage.getItem("matrix")&&localStorage.score)try{this.matrix=JSON.parse(localStorage.getItem("matrix")),this.score=parseInt(localStorage.score)}catch(t){localStorage.removeItem("matrix")}else for(var t=0;t<this.startCells;t++)this.addTile()},methods:{freePosition:function(){for(var t=[],e=0;e<this.gridSize;e++)for(var r=0;r<this.gridSize;r++)1===this.matrix[e].array[r]&&t.push({i:e,j:r});var i=t[Math.floor(Math.random()*t.length)];return this.freeCells=t.length,0!==t.length?{i:i.i,j:i.j}:{}},addTile:function(){var t=this.freePosition(),e=Math.random()<.9?2:4;if(this.$set(this.matrix[t.i].array,t.j,e),this.saveMatrix(),1===this.freeCells)return this.isGameOver()},isGameOver:function(){this.moveLeft(!1)||this.moveUp(!1)||this.moveRight(!1)||this.moveDown(!1)||alert("Game over!")},moveLeft:function(t){for(var e=!1,r=0;r<this.gridSize;r++){for(var i=[],a=0;a<this.gridSize;a++)i.push(this.matrix[r].array[a]);this.checkMovable(i)&&(e=!0,t&&(i=this.move(i),i=this.mergeCells(i),i=this.move(i),this.$set(this.matrix,r,{array:i})))}return e&&t&&this.addTile(),e},moveRight:function(t){for(var e=!1,r=0;r<this.gridSize;r++){for(var i=[],a=this.gridSize-1;a>=0;a--)i.push(this.matrix[r].array[a]);this.checkMovable(i)&&(e=!0,t&&(i=this.move(i),i=this.mergeCells(i),i=this.move(i),this.$set(this.matrix,r,{array:i.reverse()})))}return e&&t&&this.addTile(),e},moveUp:function(t){for(var e=!1,r=0;r<this.gridSize;r++){for(var i=[],a=0;a<this.gridSize;a++)i.push(this.matrix[a].array[r]);if(this.checkMovable(i)&&(e=!0,t)){i=this.move(i),i=this.mergeCells(i),i=this.move(i);for(var s=0;s<this.gridSize;s++)this.$set(this.matrix[s].array,r,i[s])}}return e&&t&&this.addTile(),e},moveDown:function(t){for(var e=!1,r=0;r<this.gridSize;r++){for(var i=[],a=this.gridSize-1;a>=0;a--)i.push(this.matrix[a].array[r]);if(this.checkMovable(i)&&(e=!0,t)){i=this.move(i),i=this.mergeCells(i),i=this.move(i);for(var s=this.gridSize-1;s>=0;s--)this.$set(this.matrix[s].array,r,i[this.gridSize-s-1])}}return e&&t&&this.addTile(),e},checkMovable:function(t){for(var e=1;e<this.gridSize;e++)if(t[e]>1&&(t[e-1]===t[e]||1===t[e-1]))return!0;return!1},move:function(t){for(var e=[],r=0;r<this.gridSize;r++)t[r]>1&&e.push(t[r]);for(var i=e.length;i<this.gridSize;i++)e.push(1);return e},mergeCells:function(t){var e=[];e=t;for(var r=1;r<this.gridSize;r++)e[r]===e[r-1]&&1!==e[r]&&(e[r-1]*=2,this.score+=e[r-1],e[r]=1,e[r-1]>this.maxValue&&(this.maxValue=e[r-1]),this.maxValue===this.wonValue&&alert("you won!"),r++);return e},keyMonitor:function(t){"ArrowLeft"===t.key&&this.moveLeft(!0),"ArrowRight"===t.key&&this.moveRight(!0),"ArrowUp"===t.key&&this.moveUp(!0),"ArrowDown"===t.key&&this.moveDown(!0)},reset:function(){n()(this.$data,this.$options.data());for(var t=0;t<this.startCells;t++)this.addTile()},saveMatrix:function(){var t=s()(this.matrix);localStorage.setItem("matrix",t),localStorage.score=this.score}}},u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"table"}},[r("GlobalEvents",{attrs:{v:""},on:{keyup:t.keyMonitor}}),t._v(" "),r("table",{attrs:{id:"bootstrap-overrides"}},[r("thead",[r("tr",[t._m(0),t._v(" "),r("th",[r("span",{staticClass:"score"},[t._v(t._s(t.score))])]),t._v(" "),r("th"),t._v(" "),r("th",[r("button",{on:{click:t.reset}},[t._v("New Game")])])])]),t._v(" "),r("tbody",t._l(t.matrix,function(e){return r("tr",t._l(e.array,function(e){return r("td",{class:"tile-"+e},[1===e?r("div"):r("div",[t._v(t._s(e))])])}))}))])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("span",{staticClass:"score"},[this._v("Score:")])])}]};var m={name:"App",components:{Table:r("VU/8")(c,u,!1,function(t){r("vIUJ")},"data-v-79d60f04",null).exports},data:function(){return{}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Table")],1)},staticRenderFns:[]};var d=r("VU/8")(m,f,!1,function(t){r("uXJz")},null,null).exports,g=r("e6fC");i.a.use(g.a),i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:d},template:"<App/>"})},uXJz:function(t,e){},vIUJ:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3428acb8a6d743acac82.js.map